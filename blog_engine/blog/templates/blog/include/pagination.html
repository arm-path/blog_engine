{% if page_obj.has_other_pages %}
  <nav aria-label="...">
    <ul class="pagination">
      <li class="page-item {% if not page_obj.has_previous %}disabled{% endif %}">
        {% if page_obj.has_previous %}
          <a class="page-link" href="?{% if search %}{{search}}{% endif %}page={{ page_obj.previous_page_number }}" tabindex="-1" aria-disabled="true">Назад</a>
        {% else %}
          <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Назад</a>
        {% endif %}
      </li>

      {% for page in page_obj.paginator.page_range %}
        {% if page == page_obj.number %}
          <li class="page-item active" aria-current="page">
            <a class="page-link" href="?{% if search %}{{search}}{% endif %}page={{ page }}">{{ page }}<span class="sr-only">(current)</span></a>
          </li>
        {% elif page_obj.number > page|add:-3 and page_obj.number < page|add:3 %}
          <li class="page-item"><a class="page-link" href="?{% if search %}{{search}}{% endif %}page={{ page }}">{{ page }}</a></li>
        {% endif %}
      {% endfor %}

      <li class="page-item {% if not page_obj.has_next %} disabled {% endif %}">
        {% if page_obj.has_next %}
          <a class="page-link" href="?{% if search %}{{search}}{% endif %}page={{ page_obj.next_page_number }}">Вперед</a>
        {% else %}
          <a class="page-link" href="#">Вперед</a>
        {% endif %}
      </li>

    </ul>
  </nav>
{% endif %}
